<!--This is the base file for displaying the competitions/clubs/majors.
This file extends to one of the files that is entitled with a number
ie. "1.html", "2.html" depending on how many competitions/clubs/majors there are.
The list of competitions/clubs/majors is represented by "units".-->
{% load staticfiles %}

<html>
    <head>
        <title>Kiosk</title>
        <link rel="stylesheet" href="{% static 'css/types.css' %}">
        <link rel="stylesheet" href="{% static 'css/base.css' %}">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://use.typekit.net/hrk4evq.css">        
        <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        
    </head>
    <body>
        <div class="row topBar">
            <div class="col-1">
                <a href="{% url 'home' %}"><i class="backButton far fa-arrow-alt-circle-left"></i></a>
            </div>
            <div class="col-10">
                <h1 class="mainHeading">{{units.0.get_name}}</h1>
            </div>
            <div class="col-1"></div>
        </div>
        <div class="wrapper">
        {% block content %}
        
        {% endblock %}
        </div>
        <script type="text/javascript">
            var idleTime = 0;
            $(document).ready(function () {
                //Increment the idle time counter every minute.
                var idleInterval = setInterval(timerIncrement, 60000); // 1 minute
            
                //Zero the idle timer on mouse movement.
                $(this).mousemove(function (e) {
                    idleTime = 0;
                });
                $(this).keypress(function (e) {
                    idleTime = 0;
                });
            });
            
            function timerIncrement() {
                idleTime = idleTime + 1;
                if (idleTime > 5) { // 20 minutes
                    window.location.href = "http://localhost:8000";
                }
            }
            </script> 
    </body>
</html>